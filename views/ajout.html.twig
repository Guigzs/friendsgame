{% extends "layout.html.twig" %}

{% block content %}

<h2>Pour ajouter un défi, c'est ici</h2>

	{% for flashMessage in app.session.flashbag.get('success') %}
		<div class="alert alert-success">
			{{ flashMessage }}
		</div>
	{% endfor %}
	
	{% if app.user and is_granted('IS_AUTHENTICATED_FULLY') %}
		{{ form_start(defiForm) }}
			<div class="form-group">
				{{ form_errors(defiForm.contenu) }}
				{{ form_widget(defiForm.contenu, { 'attr':  {
				'rows': '4',
				'class': 'form-control',
				'placeholder': 'Defi'
				}}) }}
			</div>
			<div style="display:none;" class="form-group">
				{{ form_label(defiForm.niveau, null, { 'label_attr':  {
				'class': 'col-sm-5 control-label'
				}}) }}
				<div class="col-sm-2">
					{{ form_errors(defiForm.niveau) }}
					{{ form_widget(defiForm.niveau, { 'attr':  {
					'class': 'form-control'
					}}) }}
				</div>
			</div>

			<div class="form-group">
				<input type="submit" class="btn btn-primary" value="Ajouter le défi" />
			</div>
		{{ form_end(defiForm) }}
	{% endif %}

{% endblock %}